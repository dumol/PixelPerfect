<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>


    <description>Settings and aliases for low DPI screens</description> 

    <!-- Force a DPI of 96, even on devices with a lower DPI 
         Manual hinting at small sizes is done for this standard DPI value. -->
    <match target="pattern" >
        <edit mode="assign" name="dpi" >
            <double>96</double>
        </edit>
    </match>

    <!-- Some fonts include embedded bitmaps for certain sizes. Use them.-->
    <match target="font" >
        <edit name="embeddedbitmap" mode="assign">
            <bool>true</bool>
        </edit>
    </match>

    <!-- Keep autohinter off, well-hinted fonts are used. Also, FreeType's
         autohinter is incompatible with sub-pixel rendering. -->
    <match target="font">
        <edit name="autohint" mode="assign">
            <bool>false</bool>
        </edit>
    </match>


    <!-- Aliases for the generic W3C font families.
         Not constrained by metrics here, let's spice things up... -->
    <alias binding="strong">
        <family>serif</family>
        <prefer>
            <family>PT Serif</family>
            <family>Liberation Serif</family>
            <family>EB Garamond</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>sans-serif</family>
        <prefer>
            <family>PT Sans</family>
            <family>Ubuntu</family>
            <family>Liberation Sans</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>monospace</family>
        <prefer>
            <family>Luculent</family>
            <family>Ubuntu Mono</family>
            <family>PT Mono</family>
            <family>Liberation Mono</family>
            <family>Unifont</family>
        </prefer>
    </alias>
    <!-- Cursive & Fantasy aliases only work consistenly on Firefox. FIXME -->
    <alias binding="strong">
        <family>cursive</family>
        <prefer>
            <family>Comic Relief</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>fantasy</family>
        <prefer>
            <family>Kaushan Script</family>
        </prefer>
    </alias>

    <!-- Aliases for the CSS 4 font families.
         This also shows the recommended typefaces for the UI interface.
         Recommended sizes for sans / serif / mono: 10.5 / 11.5 / 10.5. -->
    <alias binding="strong">
        <family>system-ui</family>
        <prefer>
            <family>PT Sans</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>ui-sans-serif</family>
        <prefer>
            <family>PT Sans</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>ui-serif</family>
        <prefer>
            <family>PT Serif</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>ui-monospace</family>
        <prefer>
            <family>Luculent</family>
        </prefer>
    </alias>
    <alias binding="strong">
        <family>ui-rounded</family>
        <prefer>
            <family>Comic Relief</family>
        </prefer>
    </alias>

    <!-- Alias used by web devs to target the macOS UI font through Chrome.
         Hijacked for maximum legibility on sites confused by our aliases. -->
    <alias binding="strong">
        <family>BlinkMacSystemFont</family>
        <prefer>
            <family>Liberation Sans</family>
        </prefer>
    </alias>
    

        <!-- Metrically-identical replacements. -->

    <!-- Courier and Courier New. Not the greatest match, but Wine's Courier
         is far from good enough. Liberation Mono is even more different. -->
    <include prefix="xdg">fontconfig/lowdpi/pt-mono.conf</include>

        <!-- End of metrically-identical replacements -->


        <!-- From here on, matches are not that great, 
             but it's better to differentiate these typefaces. -->

    <!-- Andale Mono (Is this smaller than it should be? FIXME) -->
    <include prefix="xdg">fontconfig/lowdpi/inconsolata.conf</include>

    <!-- Arial Narrow (Liberation Narrow is poorly hinted.) -->
    <include prefix="xdg">fontconfig/lowdpi/pt-sans-narrow.conf</include>

    <!-- Bookman Old Style. Bolder, but better than anything else included. -->
    <include prefix="xdg">fontconfig/lowdpi/pt-serif-caption.conf</include>

    <!-- Georgia. Slightly smaller, but *much* better than Liberation Serif. -->
    <include prefix="xdg">fontconfig/lowdpi/pt-serif.conf</include>

    <!-- Geneva, Lucida Grande, Lucida Sans, Lucida Sans Unicode, Tahoma.
         Not the greatest aliases, but Wine's Tahoma is a work in progress.
         Nothing else comes remotely close when rendered at small sizes. -->
    <include prefix="xdg">fontconfig/lowdpi/pt-sans.conf</include>

    <!-- Lucida Console, Lucida Sans Typewriter, Menlo. Worth upstreaming? -->
    <include prefix="xdg">fontconfig/lowdpi/liberation-mono.conf</include>

    <!-- SFMono-Regular (Sets best option for GitHub's default code font.) -->
    <include prefix="xdg">fontconfig/lowdpi/luculent.conf</include>

    <!-- Verdana. Not that far way, unfortunately no italics... -->
    <include prefix="xdg">fontconfig/lowdpi/pt-sans-caption.conf</include>


        <!-- Extra substitution rules -->

    <!-- Helvetica, Helvetica Neue. Missing in default Fontconfig rules. -->
    <alias binding="same">
        <family>Liberation Sans</family>
        <default>
            <family>Helvetica</family>
        </default>
    </alias>
    <!-- Font substitution rules -->
    <alias binding="same">
        <family>Helvetica</family>
        <prefer>
            <family>Liberation Sans</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Liberation Sans</family>
        <default>
            <family>Helvetica Neue</family>
        </default>
    </alias>
    <!-- Font substitution rules -->
    <alias binding="same">
        <family>Helvetica Neue</family>
        <prefer>
            <family>Liberation Sans</family>
        </prefer>
    </alias>

    <!-- Times Roman. Missing in default Fontconfig rules. -->
    <alias binding="same">
        <family>Liberation Serif</family>
        <default>
            <family>Times Roman</family>
        </default>
    </alias>
    <!-- Font substitution rules -->
    <alias binding="same">
        <family>Times Roman</family>
        <prefer>
            <family>Liberation Serif</family>
        </prefer>
    </alias>


</fontconfig>
